Развертывание конфигураций в Yandex.Cloud с использованием Terraform
Эта инструкция предоставляет шаги по развертыванию инфраструктуры в Yandex.Cloud с использованием Terraform. В результате будет создано две виртуальные машины в одном кластере Kubernetes: 1 мастер-нода и 1 рабочая нода, а также 1 отдельная виртуальная машина для инструментов мониторинга, логгирования и сборки контейнеров.

Предварительные требования
Установите Terraform на вашем компьютере. Инструкции по установке Terraform можно найти на официальном сайте Terraform: https://www.terraform.io/docs/cli/install/index.html

Создайте сервисный аккаунт в Yandex.Cloud и скачайте ключ сервисного аккаунта в формате JSON. Инструкции по созданию и управлению сервисными аккаунтами в Yandex.Cloud можно найти в официальной документации: https://cloud.yandex.ru/docs/iam/operations/sa/create

Шаги развертывания
Склонируйте репозиторий с конфигурацией Terraform на вашем компьютере.

В корневой директории репозитория создайте файл terraform.tfvars и заполните его следующими переменными:

makefile
Copy code
service_account_key_file = "/path/to/service-account-key.json"
cloud_id                 = "your-cloud-id"
folder_id                = "your-folder-id"
zone                     = "your-zone"
Замените "your-cloud-id", "your-folder-id", и "your-zone" на соответствующие значения вашей конфигурации Yandex.Cloud. Переменная service_account_key_file должна указывать на путь к файлу с ключом сервисного аккаунта, который вы скачали на предыдущем шаге.

Откройте терминал и перейдите в директорию репозитория с конфигурацией Terraform.

Выполните команду terraform init, чтобы инициализировать Terraform в текущей директории.

Выполните команду terraform apply, чтобы создать инфраструктуру в Yandex.Cloud на основе конфигурации Terraform. Terraform попросит подтверждение операции. Введите "yes" для подтверждения.

Дождитесь окончания операции развертывания. Terraform создаст указанную инфраструктуру в Yandex.Cloud.

После успешного завершения операции разверт
